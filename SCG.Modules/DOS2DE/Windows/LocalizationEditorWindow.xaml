<Window x:Class="SCG.Modules.DOS2DE.Windows.LocalizationEditorWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:local="clr-namespace:SCG.Modules.DOS2DE.Windows"
		xmlns:data="clr-namespace:SCG.Modules.DOS2DE.Data.View"
		xmlns:conv="clr-namespace:SCG.Converters;assembly=SourceControlGenerator"
		mc:Ignorable="d"
		d:DataContext="{d:DesignInstance data:LocalizationEditorDesignData, IsDesignTimeCreatable=True}"
		Title="LocalizationEditorWindow" Height="450" Width="800">
	<Window.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="pack://application:,,,/SourceControlGenerator;component/ThemeSystem/ResourceDictionary/MainAppDictionary.xaml" />
			</ResourceDictionary.MergedDictionaries>
			<Style x:Key="DataGrid_NoHighlight" TargetType="DataGridCell">
				<Style.Triggers>
					<Trigger  Property="IsSelected" Value="true">
						<Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
						<Setter Property="Background" Value="{x:Null}" />
						<Setter Property="BorderBrush" Value="{x:Null}" />
					</Trigger>
				</Style.Triggers>
			</Style>
		</ResourceDictionary>
	</Window.Resources>
	<Grid>
		<TextBlock Text="{Binding Name, FallbackValue='Derp'}"/>
		<TabControl>
			<TabItem Header="Mods" Visibility="{Binding ModsVisible}">
				<TabControl TabStripPlacement="Left">
					<TabControl.Resources>
						<CollectionViewSource x:Key="FileTabs" Source="{Binding Data.ModsLocalization}"/>
						<DataTemplate DataType="{x:Type data:DOS2DEStringKeyFileData}">
							<Grid>
								<TextBlock Text="{Binding Name, FallbackValue='Derp'}"/>
								<DataGrid ItemsSource="{Binding Entries}" AutoGenerateColumns="False" IsReadOnly="False" BorderBrush="{x:Null}" BorderThickness="0"  
		  CanUserAddRows="False" EnableRowVirtualization="False" ColumnWidth="Auto" CellStyle="{StaticResource DataGrid_NoHighlight}">
									<DataGrid.Resources>
										<Style x:Key="ColumnElementStyle" TargetType="TextBlock">
											<Setter Property="Margin" Value="5,0,10,0" />
										</Style>
										<Style x:Key="ProjectsHeaderStyle" TargetType="DataGridColumnHeader">
											<Setter Property="HorizontalContentAlignment" Value="Center" />
										</Style>
									</DataGrid.Resources>
									<DataGrid.RowStyle>
										<Style TargetType="{x:Type DataGridRow}">
											<Setter Property="IsSelected" Value="{Binding Selected}" />
										</Style>
									</DataGrid.RowStyle>
									<DataGrid.Columns>
										<DataGridTemplateColumn MinWidth="25" CanUserResize="False" HeaderStyle="{StaticResource ProjectsHeaderStyle}"  >
											<DataGridTemplateColumn.Header>
												<CheckBox Checked="Entries_SelectAll" Unchecked="Entries_SelectNone" ToolTip="Select/Deselect All" />
											</DataGridTemplateColumn.Header>
											<DataGridTemplateColumn.CellStyle>
												<Style TargetType="{x:Type DataGridCell}" BasedOn="{StaticResource DataGrid_NoHighlight}">
													<Setter Property="Margin" Value="0" />
												</Style>
											</DataGridTemplateColumn.CellStyle>
											<DataGridTemplateColumn.CellTemplate>
												<DataTemplate>
													<CheckBox x:Name="ProjectSelectedCheckbox" IsChecked="{Binding Selected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center" VerticalAlignment="Center"
							  IsEnabled="{Binding RelativeSource={RelativeSource AncestorType={x:Type DataGridRow}},Path=IsSelected,Mode=OneWay}"
							  />
												</DataTemplate>
											</DataGridTemplateColumn.CellTemplate>
										</DataGridTemplateColumn>
										<DataGridTextColumn Header="Key" Binding="{Binding Key}" ElementStyle="{StaticResource ColumnElementStyle}" MinWidth="50" Width="Auto" HeaderStyle="{StaticResource ProjectsHeaderStyle}">
											<DataGridTextColumn.CellStyle>
												<Style TargetType="DataGridCell" BasedOn="{StaticResource DataGrid_NoHighlight}">
													<Setter Property="ToolTip" Value="{Binding ModuleInfo.Folder}" />
												</Style>
											</DataGridTextColumn.CellStyle>
										</DataGridTextColumn>
										<DataGridTextColumn Header="Content" Binding="{Binding Content}" ElementStyle="{StaticResource ColumnElementStyle}" MinWidth="50" HeaderStyle="{StaticResource ProjectsHeaderStyle}" />
										<DataGridTextColumn Header="Handle" Binding="{Binding Handle}" ElementStyle="{StaticResource ColumnElementStyle}" MinWidth="50" HeaderStyle="{StaticResource ProjectsHeaderStyle}" />
									</DataGrid.Columns>
								</DataGrid>
							</Grid>
						</DataTemplate>
						<Style TargetType="{x:Type TabItem}">
							<Setter Property="Header" Value="{Binding Path=Name}" />
						</Style>
					</TabControl.Resources>
					<TabControl.ItemsSource>
						<CompositeCollection>
							<CollectionContainer Collection="{Binding Source={StaticResource FileTabs}}" />
						</CompositeCollection>
					</TabControl.ItemsSource>
					
				</TabControl>
				
			</TabItem>
			<TabItem Header="Public" Visibility="{Binding PublicVisible}">
				<TextBlock Text="{Binding Data.PublicLocalization.Count}" />
			</TabItem>
		</TabControl>
	</Grid>
</Window>
